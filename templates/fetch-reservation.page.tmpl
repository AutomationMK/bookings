{{$res := index .Data "reservation"}}
<div class="flex flex-col items-center gap-5 lg:gap-10 justify-center h-full max-md:pt-8">
    <div class="h-full w-full max-w-3xl overflow-hidden rounded-md shadow-lg shadow-stone-800/20">
        <figure class="slide h-fit w-fit">
            <img src="{{index $res.Room.PhotoLinks 0}}" alt="{{$res.Room.RoomName}}"
                class="h-full w-full object-contain">
        </figure>
    </div>

    <form action="/make-reservation" method="POST" class="grid gap-4 justify-items-center xl:grid-cols-2 w-full h-full">
        <input type="hidden" name="csrf_token" value="{{.CSRFToken}}">
        <input type="hidden" name="arrival_date" value="{{printDate $res.ArrivalDate}}">
        <input type="hidden" name="departure_date" value="{{printDate $res.DepartureDate}}">
        <input type="hidden" name="room_id" value="{{$res.RoomID}}">

        <h2 class="text-xl md:text-2xl lg:text-4xl lg:col-span-full text-stone-700 font-bold text-center">
            Reservation ID: #{{$res.ID}} Details For {{$res.Room.RoomName}}
        </h2>
        <p class="text md:text-md lg:text-lg lg:col-span-full text-stone-700 text-center">
            Change any of the following info below and submit to update the reservation
        </p>
        <div class="flex flex-col gap-2 justify-end items-center w-full">
            {{with .Form.Errors.Get "arrival_date"}}
            <p class="px-4 py-2 bg-red-100 rounded text-red-500 col-span-full">{{.}}</p>
            {{end}}
            <div {{with .Form.Errors.Get "arrival_date" }}
                class="grid sm:grid-cols-[3fr_5fr] w-full h-fit items-center bg-white border-3 border-stone-500 rounded-md shadow-md is-invalid"
                {{else}}
                class="grid sm:grid-cols-[3fr_5fr] w-full h-fit items-center bg-white border-3 border-stone-500 rounded-md shadow-md shadow-stone-800/20"
                {{end}}>
                <div
                    class="flex justify-center w-full p-2 border-b-3 sm:border-b-0 sm:border-r-3 sm:p-4 border-stone-500 bg-amber-100">
                    <label for="arrival_date" class="text-lg text-stone-800">
                        Arrival Date
                    </label>
                </div>
                <div class="flex justify-center p-2 sm:p-4">
                    <input type="text" name="arrival_date" id="arrival_date" placeholder="MM/DD/YYYY"
                        value="{{printDate $res.ArrivalDate}}" class="text-lg max-sm:text-center text-stone-800 w-full">
                </div>
            </div>
        </div>
        <div class="flex flex-col gap-2 justify-end items-center w-full">
            {{with .Form.Errors.Get "departure_date"}}
            <p class="px-4 py-2 bg-red-100 rounded text-red-500 col-span-full">{{.}}</p>
            {{end}}
            <div {{with .Form.Errors.Get "departure_date" }}
                class="grid sm:grid-cols-[3fr_5fr] w-full h-fit items-center bg-white border-3 border-stone-500 rounded-md shadow-md is-invalid"
                {{else}}
                class="grid sm:grid-cols-[3fr_5fr] w-full h-fit items-center bg-white border-3 border-stone-500 rounded-md shadow-md shadow-stone-800/20"
                {{end}}>
                <div
                    class="flex justify-center w-full p-2 border-b-3 sm:border-b-0 sm:border-r-3 sm:p-4 border-stone-500 bg-amber-100">
                    <label for="last_name" class="text-lg text-stone-800">
                        Departure Date
                    </label>
                </div>
                <div class="flex justify-center p-2 sm:p-4">
                    <input type="text" name="departure_date" id="departure_date" placeholder="MM/DD/YYYY"
                        value="{{printDate $res.DepartureDate}}"
                        class="text-lg max-sm:text-center text-stone-800 w-full">
                </div>
            </div>
        </div>
        <div class="flex flex-col gap-2 justify-end items-center w-full">
            {{with .Form.Errors.Get "first_name"}}
            <p class="px-4 py-2 bg-red-100 rounded text-red-500 col-span-full">{{.}}</p>
            {{end}}
            <div {{with .Form.Errors.Get "first_name" }}
                class="grid sm:grid-cols-[3fr_5fr] w-full h-fit items-center bg-white border-3 border-stone-500 rounded-md shadow-md is-invalid"
                {{else}}
                class="grid sm:grid-cols-[3fr_5fr] w-full h-fit items-center bg-white border-3 border-stone-500 rounded-md shadow-md shadow-stone-800/20"
                {{end}}>
                <div
                    class=" flex justify-center w-full p-2 border-b-3 sm:border-b-0 sm:border-r-3 sm:p-4 border-stone-500 bg-amber-100">
                    <label for="first_name" class="text-lg text-stone-800">
                        First name
                    </label>
                </div>
                <div class="flex justify-center p-2 sm:p-4">
                    <input type="text" name="first_name" id="first_name" placeholder="John" value="{{$res.FirstName}}"
                        class="text-lg max-sm:text-center text-stone-800 w-full">
                </div>
            </div>
        </div>
        <div class="flex flex-col gap-2 justify-end items-center w-full">
            {{with .Form.Errors.Get "last_name"}}
            <p class="px-4 py-2 bg-red-100 rounded text-red-500 col-span-full">{{.}}</p>
            {{end}}
            <div {{with .Form.Errors.Get "last_name" }}
                class="grid sm:grid-cols-[3fr_5fr] w-full h-fit items-center bg-white border-3 border-stone-500 rounded-md shadow-md is-invalid"
                {{else}}
                class="grid sm:grid-cols-[3fr_5fr] w-full h-fit items-center bg-white border-3 border-stone-500 rounded-md shadow-md shadow-stone-800/20"
                {{end}}>
                <div
                    class="flex justify-center w-full p-2 border-b-3 sm:border-b-0 sm:border-r-3 sm:p-4 border-stone-500 bg-amber-100">
                    <label for="last_name" class="text-lg text-stone-800">
                        Last name
                    </label>
                </div>
                <div class="flex justify-center p-2 sm:p-4">
                    <input type="text" name="last_name" id="last_name" placeholder="Doe" value="{{$res.LastName}}"
                        class="text-lg max-sm:text-center text-stone-800 w-full">
                </div>
            </div>
        </div>
        <div class="flex flex-col gap-2 justify-end items-center w-full">
            {{with .Form.Errors.Get "email"}}
            <p class="px-4 py-2 bg-red-100 rounded text-red-500 col-span-full">{{.}}</p>
            {{end}}
            <div {{with .Form.Errors.Get "email" }}
                class="grid sm:grid-cols-[3fr_5fr] w-full h-fit items-center bg-white border-3 border-stone-500 rounded-md shadow-md is-invalid"
                {{else}}
                class="grid sm:grid-cols-[3fr_5fr] w-full h-fit items-center bg-white border-3 border-stone-500 rounded-md shadow-md shadow-stone-800/20"
                {{end}}>
                <div
                    class="flex justify-center w-full p-2 border-b-3 sm:border-b-0 sm:border-r-3 sm:p-4 border-stone-500 bg-amber-100">
                    <label for="email" class="text-lg text-stone-800">
                        Email
                    </label>
                </div>
                <div class="flex justify-center p-2 sm:p-4">
                    <input type="email" name="email" id="email" placeholder="johndoe@example.com" value="{{$res.Email}}"
                        class="text-lg max-sm:text-center text-stone-800 w-full">
                </div>
            </div>
        </div>
        <div class="flex flex-col gap-2 justify-end items-center w-full">
            {{with .Form.Errors.Get "phone"}}
            <p class="px-4 py-2 bg-red-100 rounded text-red-500 col-span-full">{{.}}</p>
            {{end}}
            <div {{with .Form.Errors.Get "phone" }}
                class="grid sm:grid-cols-[3fr_5fr] w-full h-fit items-center bg-white border-3 border-stone-500 rounded-md shadow-md is-invalid"
                {{else}}
                class="grid sm:grid-cols-[3fr_5fr] w-full h-fit items-center bg-white border-3 border-stone-500 rounded-md shadow-md shadow-stone-800/20"
                {{end}}>
                <div
                    class="flex justify-center w-full p-2 border-b-3 sm:border-b-0 sm:border-r-3 sm:p-4 border-stone-500 bg-amber-100">
                    <label for="phone" class="text-lg text-stone-800">
                        Phone
                    </label>
                </div>
                <div class="flex justify-center p-2 sm:p-4">
                    <input type="text" name="phone" id="phone" placeholder="123-456-7890" value="{{$res.Phone}}"
                        class="text-lg max-sm:text-center text-stone-800 w-full">
                </div>
            </div>
        </div>
        <div class="flex items-center gap-3 lg:col-span-full">
            <a href="/admin/dashboard/reservations/new"
                class="fetchLink bg-stone-700 border-3 border-stone-700 rounded-md text-amber-200 text-lg md:text-xl lg:text-2xl font-bold hover:bg-transparent hover:text-stone-700 transition w-fit px-4 py-2">Back</a>
            <button type="submit"
                class="bg-stone-700 border-3 border-stone-700 rounded-md text-amber-200 text-lg md:text-xl lg:text-2xl font-bold hover:bg-transparent hover:text-stone-700 transition w-fit px-4 py-2">
                Submit Change
            </button>
        </div>
    </form>
</div>
